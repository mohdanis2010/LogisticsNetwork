{"version":3,"file":"static/webpack/static/development/pages/index.js.9a3fefa40ab830c241d6.hot-update.js","sources":["webpack:///./pages/index.js","webpack:///./store.js"],"sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport GoogleMapReact from \"google-map-react\";\n// import pin from \"./pin.jpeg\";\nimport { Link } from \"react-router-dom\";\nimport ListItems from \"../Components/ListItems\";\nimport \"isomorphic-unfetch\";\n\nimport {\n  container,\n  rightSubContaoner,\n  tableContaoner,\n  btnSubmit,\n} from \"../style\";\n\nconst markerStyle = {\n  position: \"relative\",\n  // top: \"100%\",\n  // left: \"50%\",\n  width: \"100px\",\n  border: \"2px solid red\",\n  // transform: \"translate(-50%, -100%)\",\n};\nimport { getTransactionDetails, getTransaction } from \"../store\";\n// import TransactionDetail from \"./transactionDetail\";\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFetching: false,\n    };\n  }\n\n  static defaultProps = {\n    center: {\n      lat: 1.371778,\n      lng: 103.893059,\n    },\n    zoom: 18,\n  };\n\n  static async getInitialProps({ reduxStore, req }) {\n    return {};\n  }\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async () => {\n    // const id = \"5d050de87eacc2395cdf86dd\";\n    const res = await fetch(`http://localhost:4000/getTrans`);\n    const data = await res.json();\n    const { getTransaction } = this.props;\n    getTransaction(data);\n  };\n\n  listItemsHandler = async items => {\n    const res = await fetch(`http://localhost:4000/findBy/${items}`);\n    const data = await res.json();\n    const { getTransactionDetails } = this.props;\n    getTransactionDetails(data);\n  };\n\n  render() {\n    const { transactions, center } = this.props;\n\n    // const mapProps = {\n    //   center: {\n    //     lat: transactionDetails.latitude,\n    //     lng: transactionDetails.latitude,\n    //   },\n    //   zoom: 18,\n    // };\n    console.log(\"centercentercentercenter\", center);\n\n    return (\n      <div style={container}>\n        <div style={rightSubContaoner}>\n          {/* <input\n            type=\"button\"\n            value=\"Transfer\"\n            disabled={!payload.amount}\n            style={btnSubmit}\n            onClick={this.loadData}\n          /> */}\n        </div>\n        <div style={tableContaoner}>\n          {/* <TransactionDetail /> */}\n          {/* <ListItems items={transactions} GetIT={this.GETIT} /> */}\n\n          <ul className=\"collection\">\n            {transactions.map(item => (\n              <li\n                key={item._id}\n                className=\"collection-item\"\n                onClick={() => this.listItemsHandler(item._id)}>\n                {item.driver_id}\n              </li>\n            ))}\n          </ul>\n\n          <div style={{ height: \"100vh\", width: \"100%\" }}>\n            <GoogleMapReact\n              bootstrapURLKeys={{\n                key: \"AIzaSyA16d9FJFh__vK04jU1P64vnEpPc3jenec\",\n              }}\n              defaultCenter={this.state.center}\n              defaultZoom={this.state.zoom}>\n              <div style={markerStyle}>PINq mdbjshdjhdjhsjdhjshdjshdjshj</div>\n            </GoogleMapReact>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  center: state.center,\n  transactions: state.transactions,\n});\n\nconst mapDispatchToProps = {\n  getTransaction,\n  getTransactionDetails,\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Index);\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\n\nconst exampleInitialState = {\n  transactions: [],\n  payload: {\n    name: \"\",\n    paymentMode: \"\",\n    amount: \"\",\n  },\n  success: false,\n};\n\nexport const actionTypes = {\n  GET_TRANSACTION: \"GET_TRANSACTION\",\n  GET_TRANSACTION_DETAILS: \"GET_TRANSACTION_DETAILS\",\n  GET_PAYLOAD: \"GET_PAYLOAD\",\n};\n\n// REDUCERS\nexport const reducer = (state = exampleInitialState, action) => {\n  console.log(\"ACTION\", action.type);\n  switch (action.type) {\n    case actionTypes.GET_TRANSACTION:\n      return Object.assign(\n        {},\n        state,\n        {\n          transactions: action.data,\n        },\n        { success: true },\n      );\n    case actionTypes.GET_TRANSACTION_DETAILS:\n      return Object.assign(\n        {},\n        state,\n        {\n          center: {\n            lat: action.data.latitude,\n            lng: action.data.latitude,\n          },\n        },\n        { success: true },\n      );\n    default:\n      return state;\n  }\n};\n\n// ACTIONS\nexport const getTransaction = data => {\n  return { type: actionTypes.GET_TRANSACTION, data };\n};\nexport const getTransactionDetails = data => {\n  return { type: actionTypes.GET_TRANSACTION_DETAILS, data };\n};\n\nexport function initializeStore(initialState = exampleInitialState) {\n  return createStore(\n    reducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(thunk)),\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAsBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA/BA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AAYA;AACA;AACA;;;AAiBA;AAAA;AACA;AADA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;;;;;;;;;AAzEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAlBA;AACA;AADA;AASA;AACA;AACA;AAFA;AAIA;AALA;AACA;AAmFA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAIA;AACA;AACA;AAFA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;AC/HA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AAUA;AACA;AACA;AACA;AAHA;AACA;AAMA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAIA;AADA;AAGA;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;AAFA;AADA;AAMA;AAAA;AACA;AACA;AACA;AAvBA;AAyBA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAKA;;;;A","sourceRoot":""}